<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<style>
  :root {
    --body-bg: #fff5f7; /* 부드러운 화이트 핑크 */
    --display-bg: #ffffff;
    --text-pink: #ff9fb3;
  }

  body {
    margin: 0; display: flex; justify-content: center; align-items: center;
    height: 100vh; background-color: transparent;
  }

  /* 1. 3D 본체 프레임: 그림자를 겹쳐서 두께감 표현 */
  .calc-case {
    background-color: var(--body-bg);
    padding: 40px 25px;
    border-radius: 55px;
    box-shadow: 
      20px 20px 40px #d9cbd0, 
      -15px -15px 35px #ffffff,
      inset 0 0 5px rgba(255,255,255,0.8);
    border: 1px solid #fceef2;
    display: flex; flex-direction: column; align-items: center;
  }

  /* 2. 깊이감이 느껴지는 디스플레이 창 */
  .screen-well {
    width: 280px; height: 80px;
    background-color: var(--display-bg);
    border-radius: 20px;
    margin-bottom: 35px;
    display: flex; align-items: center; justify-content: flex-end;
    padding: 0 25px; box-sizing: border-box;
    /* 안쪽으로 쑥 들어간 느낌 */
    box-shadow: 
      inset 6px 6px 12px rgba(0,0,0,0.06), 
      inset -4px -4px 10px rgba(255,255,255,0.9);
  }

  #result {
    font-size: 2.2rem; color: var(--text-pink);
    font-family: 'serif'; letter-spacing: 1px;
  }

  /* 3. 키패드가 박혀 있는 '인셋' 공간 */
  .keypad-well {
    position: relative; width: 310px; height: 310px;
    background-color: #ffffff; border-radius: 25px;
    box-shadow: 
      inset 8px 8px 15px rgba(0,0,0,0.05), 
      inset -5px -5px 12px rgba(255,255,255,0.8);
    padding: 8px; box-sizing: border-box; overflow: hidden;
  }

  .bg-image {
    position: absolute; top: 0; left: 0;
    width: 100%; height: 100%;
    background-image: url('./keypad.png'); /* 이미지 파일명 확인 필수! */
    background-size: cover; z-index: 1; pointer-events: none;
  }

  /* 4. 버튼 그리드 및 기능 */
  .btn-grid {
    position: relative; z-index: 2;
    display: grid; grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(4, 1fr);
    width: 100%; height: 100%;
  }

  .tap-btn {
    background: transparent; border: none; cursor: pointer;
    outline: none; transition: 0.1s;
    -webkit-tap-highlight-color: transparent;
  }

  /* 누를 때 버튼이 안으로 들어가는 시각 효과 */
  .tap-btn:active {
    background: rgba(255, 182, 193, 0.15);
    box-shadow: inset 2px 2px 5px rgba(0,0,0,0.05);
    border-radius: 12px;
  }
</style>
</head>
<body>

<div class="calc-case">
  <div class="screen-well"><div id="result">0</div></div>

  <div class="keypad-well">
    <div class="bg-image"></div>
    <div class="btn-grid">
      <button class="tap-btn" onclick="input('1')"></button>
      <button class="tap-btn" onclick="input('2')"></button>
      <button class="tap-btn" onclick="input('3')"></button>
      <button class="tap-btn" onclick="op('+')"></button> <button class="tap-btn" onclick="input('4')"></button>
      <button class="tap-btn" onclick="input('5')"></button>
      <button class="tap-btn" onclick="input('6')"></button>
      <button class="tap-btn" onclick="op('-')"></button> <button class="tap-btn" onclick="input('7')"></button>
      <button class="tap-btn" onclick="input('8')"></button>
      <button class="tap-btn" onclick="input('9')"></button>
      <button class="tap-btn" onclick="op('*')"></button> <button class="tap-btn" onclick="reset()"></button> <button class="tap-btn" onclick="input('0')"></button>
      <button class="tap-btn" onclick="op('/')"></button> <button class="tap-btn" onclick="calc()"></button> </div>
  </div>
</div>

<script>
  let formula = "";
  const res = document.getElementById('result');

  function input(v) {
    if(formula === "0") formula = "";
    formula += v;
    res.innerText = formula;
  }

  function op(o) {
    if(formula === "" || isNaN(formula.slice(-1))) return;
    formula += o;
    res.innerText = formula;
  }

  function calc() {
    try {
      const final = eval(formula);
      res.innerText = Number.isInteger(final) ? final : final.toFixed(2);
      formula = String(final);
    } catch {
      res.innerText = "Error";
      formula = "";
    }
  }

  function reset() {
    formula = "";
    res.innerText = "0";
  }
</script>
</body>
</html>
